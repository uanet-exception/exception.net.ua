---
author: "ZEN"
title: "–†–æ–∑–±–∏–≤–∞—î–º–æ —Ñ–∞–π–ª –Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞ —ñ–Ω—à–∏—Ö —Ñ–∞–π–ª—ñ–≤ –∑–∞ —Ñ—ñ–ª—å—Ç—Ä–æ–º"
# description: ""
date: 2020-07-26T23:19:09+03:00
lastmod: 2020-07-26T23:19:09+03:00
tags:
  - "linux"
  - "bash"
  - "awk"
  - "tee"
  - "grep"
categories:
  - "Desktop"
  - "Administration"
draft: false
type: "post"
archives: "2020"
---

–Ü–Ω–æ–¥—ñ —Å—Ç–∏–∫–∞—é—Å—å –∑ —Ç–∏–º, —â–æ —Ç—Ä–µ–±–∞ —Ä–æ–∑–±–∏—Ç–∏ –≤–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª –Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞ –º–µ–Ω—à–∏—Ö —ñ –ø—Ä–∏ —Ü—å–æ–º—É –∑–º—ñ—Å—Ç –Ω–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤ –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –ø–µ–≤–Ω–∏–º —Ñ—ñ–ª—å—Ç—Ä–∞–º. –Ü —Å—å–æ–≥–æ–¥–Ω—ñ —è —Ä–æ–∑–ø–æ–≤—ñ–º, —è–∫ –≤–∏—Ä—ñ—à–∏—Ç–∏ —Ü—é –ø—Ä–æ–±–ª–µ–º—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é bash-—Å–∫—Ä–∏–ø—Ç—É.

<!--more-->

–î–ª—è –ø–æ—á–∞—Ç–∫—É, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω —Ñ–∞–π–ª –∑ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏, —â–æ –º—ñ—Å—Ç–∏—Ç—å –Ω—É–ª—ñ, –æ–¥–∏–Ω–∏—Ü—ñ —Ç–∞ –¥–≤—ñ–π–∫–∏. –ó–≥–µ–Ω–µ—Ä—É—î–º–æ –π–æ–≥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—é –∫–æ–º–∞–Ω–¥–æ—é:

{{< highlight plaintext >}}
$ seq 999 | awk '{print $0 % 3}' > /tmp/data.txt
{{< /highlight >}}

–ê —Ç–µ–ø–µ—Ä, —Å–∞–º–µ —Ü—ñ–∫–∞–≤–µ, –º–∏ –≤—ñ–∑—å–º–µ–º–æ –≤–∏–≤—ñ–¥ –∫–æ–º–∞–Ω–¥–∏ `cat` —Ç–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `tee` –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏–º–æ –π–æ–≥–æ –Ω–∞ –≤–≤–µ–¥–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥—ñ `grep`, —è–∫–∞ –∑–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º —à–∞–±–ª–æ–Ω–æ–º –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É—î —Ç–µ–∫—Å—Ç —É –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ñ–∞–π–ª:

{{< highlight plaintext >}}
$ cat /tmp/data.txt \
    | tee >(grep "^0$" > /tmp/0.txt) \
    | tee >(grep "^1$" > /tmp/1.txt) \
    | tee >(grep "^2$" > /tmp/2.txt) \
    > /dev/null
{{< /highlight >}}

–Ø–∫ –≤–∏–¥–Ω–æ –∑ –∫–æ–¥—É, –Ω–∞ –≤–∏—Ö–æ–¥—ñ –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ —Ç—Ä–∏ —Ñ–∞–π–ª–∏ - `/tmp/0.txt`, `/tmp/1.txt` —Ç–∞ `/tmp/2.txt`. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —É `/dev/null` –≤ –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É —Ä—è–¥–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ, –∞–±–∏ –Ω–µ –≤–∏–≤–æ–¥–∏—Ç–∏ –∑–º—ñ—Å—Ç —Ñ–∞–π–ª—É `/tmp/data.txt` –Ω–∞ —Ç–µ—Ä–º—ñ–Ω–∞–ª. –í—Ç—ñ–º, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–ø—ñ—è —Ñ–∞–π–ª—É, –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç–∏ –≤–∏–≤–µ–¥–µ–Ω–Ω—è –≤ —ñ–Ω—à–∏–π —Ñ–∞–π–ª.

–í–∏–∫–æ–Ω—É—î–º–æ –∫–æ–º–∞–Ω–¥—É —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

{{< highlight plaintext >}}
$ head -n2 /tmp/{0,1,2}.txt
==> 0.txt <==
0
0

==> 1.txt <==
1
1

==> 2.txt <==
2
2
$ wc -l /tmp/{0,1,2}.txt
 333 /tmp/0.txt
 333 /tmp/1.txt
 333 /tmp/2.txt
999 total
{{< /highlight >}}

–Ø–∫—â–æ —É –≤–∞—Å —Å—Ö–æ–∂–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –≤—ñ—Ç–∞—é, –≤–∏ –Ω–∞–≤—á–∏–ª–∏—Å—å –Ω–æ–≤–æ–º—É —Ç—Ä—é–∫—É –≤ bash. üòâ
